# 2025-06-16 - 프로세스, 스레드, 코어 수는 많을수록 좋은가

## 용어 정의

### 프로세스(process)

- 운영체제로부터 시스템 자원(메모리, CPU 등)을 할당받아 실행되는 독립적인 프로그램 단위
- 프로세스는 자신만의 독립적인 메모리 공간(코드, 데이터, 스택, 힙 영역)을 가지며, 다른 프로세스와 자원 공유하지 않음

### 스레드(thread)

- 프로세스 내에서 실행되는 작업의 흐름 단위
- 하나의 프로세스는 하나 이상의 스레드를 갖고, 스레드는 프로세스가 할당받은 메모리 공간과 자원을 공유하며 실행

### 코어(core)

- CPU 내부에서 실제로 연산을 수행하는 독립적인 처리 장치
- CPU칩 안에 여러 개의 코어 존재가능하며, 각 코어는 독립적으로 스레드 실행 가능

## 프로세스, 스레드, 코어 수는 많을수록 좋은가?

### 프로세스 수

**장점**

- 안정성/격리성: 각 프로세스가 독립적인 메모리 공간을 가지므로, 하나의 프로세스가 오류가 발생하더라도 다른 프로세스 영향주지 않음
- 자원 관리: 운영체제가 각 프로세스에 독립적으로 자원을 할당하고 회수하기 쉬움

**단점**

- 오버헤드: 컨텍스트 스위칭시, 독립적인 메모리 공간 때문에 많은 자원(CPU 시간) 소모
- 자원 소모: 각 프로세스가 독립적인 자원(특히 메모리)을 사용하므로, 프로세스 수가 많아질수록 전체 시스템 자원 소모 증가
- 통신 비용: 프로세스 간 데이터 교환(IPC: Inter-Process Communication)이 스레드 간 통신보다 복잡하고 느림

**결론**: 여러 개의 완전히 독립적인 작업 수행 혹은 안전성이 매우 중요하며 각 작업이 대규모 자원을 필요할 때 유용. 하지만, 과도하게 많은 프로세스는 시스템 자원 낭비와 성능 저하 초래

### 스레드 수

**장점**

- 효율적인 자원 공유: 같은 프로세스 내의 스레드들은 메모리 공간과 자원을 공유하므로 자원 사용량이 효율적
- 빠른 통신: 스레드간 데이터 통신(공유 메모리)이 프로세스 간 통신보다 훨씬 빠르고 간단
- 낮은 오버헤드: 컨텍스트 스위칭 시, 프로세스 전환보다 오버헤드가 적음
- 동시성/병렬성 활용: 멀티 코어 환경에서 여러 스레드가 동시에 실행되 작업 처리 속도를 향상, 특히 I/O 작업으로 대기하는 시간 많은 작업에 효과적

**단점**

- 동기화 문제: 여러 스레드가 공유 자원 동시에 접근 시, 데이터의 일관성 및 무결성 문제 발생(Race Condition), 이를 해결하기 위한 동기화 메커니즘 필요하며, 이는 복잡성과 오버헤드 증가 가능
- 안정성 취약: 한 스레드 문제 발생 시, 같은 프로세스 내의 다른 스레드와 전체 프로세스에 영향 미쳐 안정성이 프로세스보다 낮음
- 디버깅 어려움: 스레드간 상호작용이 복잡해 디버깅 어려울 수 있음

**결론**: 단일 프로그램 내 여러 작업을 동시에 처리해 성능을 높일 때 유용하지만, 스레드 수가 너무 많아지면 동기화 오버헤드가 커지고 컨텍스트 스위칭 비용이 증가해 성능 저하 발생 가능. 코어 수에 비례하여 스레드 수 최적화 하는 것이 중요하며, CPU Bound 작업은 코어 수에 스레드 맞추고, I/O Bound 작업은 코어 수보다 많은 스레드 사용하는 것이 유리

### 코어 수

**장점**

- 병렬 처리: 각 코어가 독립적으로 스레드 실행 가능하여, 여러 작업 병렬 처리 가능
- 멀티태스킹 성능 향상: 여러 프로그램, 스레드 동시 실행 할때 시스템 반응 속도와 처리량 향상
- 성능 확장성: 컴퓨팅 집약적인 (비디오 렌더링, 과학 계산, 데이터 처리 등) 작업에서 처리시간 단축 가능

**단점**

- 비용: 더 많은 코어를 갖춘 CPU는 일반적으로 가격이 비쌈
- 소프트웨어 최적화 필요: 모든 어플리케이션에 대해 멀티 스레딩/ 멀티 프로세싱을 염두에 두고 설계되어야 이점 활용 가능
- 발열 및 전력 소모: 코어 수가 많을수록 일반적으로 발열과 전력 소모 증가

**결론**: 병렬 처리 가능한 애플리케이션 실행 혹은 동시에 여러 작업을 처리해야 하는 경우 코어 수 많은 것이 유리하지만, 소프트웨어가 지원하지 않으면 성능 이점 얻기 힘듦

## 요약

> 프로세스, 스레드, 코어 수의 증가는 장단점이 존재
>
> - 프로세스는 안정성과 격리성이 좋지만, 자원 소모와 통신 오버헤드 발생
> - 스레드는 자원 효율성과 통신 속도는 좋으나, 동기화 문제에서 안정성 문제 발생
> - 코어 수는 병렬 처리가 가능하지만, 비용과 소프트웨어 지원 여부가 중요
> 
> 각 요소들은 밀접히 연관되어 있으며, 시스템의 목적에 따라 최적의 조합을 찾아야 함
